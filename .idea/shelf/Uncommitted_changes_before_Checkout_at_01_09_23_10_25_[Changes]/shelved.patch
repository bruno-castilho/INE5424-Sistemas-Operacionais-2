Index: .gitignore
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.gitignore b/.gitignore
new file mode 100644
--- /dev/null	(date 1693156220396)
+++ b/.gitignore	(date 1693156220396)
@@ -0,0 +1,65 @@
+/src/api/address_space.o
+/src/utility/aes.o
+/src/api/alarm.o
+/src/api/alarm_init.o
+/app/all
+/src/system/application_scaffold.o
+/src/system/application_sifive_u.o
+/src/utility/bignum.o
+/src/api/condition.o
+/src/utility/delete.o
+/src/utility/elf.o
+/etc/eposcc.conf
+/tools/eposcfg/eposcfg
+/tools/eposcfg/eposcfg.o
+/tools/eposmkbi/eposmkbi
+/etc/eposmkbi.conf
+/tools/eposmkbi/eposmkbi.o
+/src/utility/heap.o
+/app/hello/hello
+/img/hello
+/img/hello.img
+/app/hello/hello.o
+/img/hello.out
+/src/machine/common/info.o
+/src/init/init_application.o
+/src/init/init_application_sifive_u.o
+/src/init/init_begin.o
+/src/init/init_begin_sifive_u.o
+/src/init/init_end.o
+/src/init/init_end_sifive_u.o
+/src/init/init_system.o
+/src/init/init_system_sifive_u.o
+/src/machine/common/machine_common.o
+/src/architecture/common/mmu_common.o
+/src/architecture/common/mmu_common_init.o
+/src/api/mutex.o
+/src/utility/ostream.o
+/src/utility/random.o
+/src/machine/riscv/riscv_ic.o
+/src/machine/riscv/riscv_ic_init.o
+/src/machine/riscv/riscv_machine.o
+/src/machine/riscv/riscv_machine_init.o
+/src/machine/riscv/riscv_timer.o
+/src/machine/riscv/riscv_timer_init.o
+/src/machine/common/rtc_common.o
+/src/architecture/rv64/rv64_cpu.o
+/src/architecture/rv64/rv64_cpu_init.o
+/src/architecture/rv64/rv64_crt0.o
+/src/architecture/rv64/rv64_crtbegin.o
+/src/architecture/rv64/rv64_crtend.o
+/src/architecture/rv64/rv64_pmu.o
+/src/api/scheduler.o
+/src/machine/common/scratchpad_common.o
+/src/api/segment.o
+/src/api/semaphore.o
+/src/machine/common/serial_display.o
+/src/machine/common/serial_keyboard.o
+/src/setup/setup_sifive_u.o
+/src/utility/srec.o
+/src/utility/string.o
+/src/api/system_init.o
+/src/system/system_scaffold.o
+/src/system/system_sifive_u.o
+/src/api/thread.o
+/src/api/thread_init.o
Index: include/system/config.h
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// EPOS Configuration Engine\n\n#ifndef __config_h\n#define __config_h\n\n//============================================================================\n// ARCHITECTURE, MACHINE, AND APPLICATION SELECTION\n// This section is generated automatically from makedefs by $EPOS/etc/makefile\n//============================================================================\n#define SMOD xxx\n#define ARCH xxx\n#define MACH xxx\n#define MMOD xxx\n#define APPL xxx\n#define __mode_xxx__\n#define __arch_xxx__\n#define __mach_xxx__\n#define __mmod_xxx__\n\n//============================================================================\n// NAMESPACES AND DEFINITIONS\n//============================================================================\nnamespace EPOS {\n    namespace S {\n        namespace U {}\n        using namespace U;\n    }\n}\n\n#define __BEGIN_API             namespace EPOS {\n#define __END_API               }\n#define _API                    ::EPOS\n\n#define __BEGIN_UTIL            namespace EPOS { namespace S { namespace U {\n#define __END_UTIL              }}}\n#define __USING_UTIL            using namespace S::U;\n#define _UTIL                   ::EPOS::S::U\n\n#define __BEGIN_SYS             namespace EPOS { namespace S {\n#define __END_SYS               }}\n#define __IN_SYS(X)             namespace EPOS { namespace S { X }}\n#define __USING_SYS             using namespace EPOS::S;\n#define _SYS                    ::EPOS::S\n\n#ifndef __kernel__\nnamespace EPOS {\n    using namespace S;\n    using namespace S::U;\n}\n#endif\n\n#define __CONCATENATE(X,Y)      X##Y\n#define __HEADER_NAME(X,Y)      __CONCATENATE(X,_##Y).h\n#define __HEADER_ARCH(X)        <architecture/ARCH/__HEADER_NAME(ARCH,X)>\n#define __HEADER_MACH(X)        <machine/MACH/__HEADER_NAME(MACH,X)>\n#define __HEADER_MMOD(X)        <machine/MACH/MMOD/__HEADER_NAME(MMOD,X)>\n#define __HEADER_TRAN(X)        <transducer/X.h>\n#define __APPL_TRAITS_T(X)      <../app/X/X##_traits.h>\n#define __APPL_TRAITS(X)        __APPL_TRAITS_T(X)\n\n#define __ARCHITECTURE_TRAITS_H __HEADER_ARCH(traits)\n#define __MACHINE_TRAITS_H      __HEADER_MMOD(traits)\n#define __APPLICATION_TRAITS_H  __APPL_TRAITS(APPL)\n\n#define ASM                     __asm__ __volatile__\n\n//============================================================================\n// ASSERT (for pre and post conditions)\n//============================================================================\n#define assert(expr)    ((expr) ? static_cast<void>(0) : Assert::fail (#expr, __FILE__, __LINE__, __PRETTY_FUNCTION__))\n//#define assert(expr)    (static_cast<void>(0))\n\n//============================================================================\n// CONFIGURATION\n//============================================================================\n#define __CPU_H                 __HEADER_ARCH(cpu)\n#define __MMU_H                 __HEADER_ARCH(mmu)\n\n#define __MACH_H                __HEADER_MACH(machine)\n#define __IC_H                  __HEADER_MACH(ic)\n#define __TIMER_H               __HEADER_MACH(timer)\n\n#ifdef __legacy_pc__\n#define __pc__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __PCI_H                 __HEADER_MACH(pci)\n#define __RTC_H                 __HEADER_MACH(rtc)\n#define __EEPROM_H              __HEADER_MACH(eeprom)\n#define __UART_H                __HEADER_MACH(uart)\n#define __DISPLAY_H             __HEADER_MACH(display)\n#define __KEYBOARD_H            __HEADER_MACH(keyboard)\n#define __SCRATCHPAD_H          __HEADER_MACH(scratchpad)\n#define __FPGA_H                __HEADER_MACH(fpga)\n\n#define __KEYPAD_H              __HEADER_TRAN(keypad)\n\n#endif\n\n#ifdef __lm3s811__\n#define __armv7m__\n#define __cortex_m__\n#define __cortex_m3__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n\n#define __UART_H                __HEADER_MACH(uart)\n#define __GPIO_H                __HEADER_MACH(gpio)\n\n#endif\n\n#ifdef __emote3__\n#define __armv7m__\n#define __cortex_m__\n#define __cortex_m3__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n\n#define __EEPROM_H              __HEADER_MACH(eeprom)\n#define __UART_H                __HEADER_MACH(uart)\n#define __SPI_H                 __HEADER_MACH(spi)\n#define __RS485_H               __HEADER_MACH(rs485)\n#define __USB_H                 __HEADER_MACH(usb)\n#define __I2C_H                 __HEADER_MACH(i2c)\n#define __GPIO_H                __HEADER_MACH(gpio)\n#define __ADC_H                 __HEADER_MACH(adc)\n#define __PWM_H                 __HEADER_MACH(pwm)\n#define __WATCHDOG_H            __HEADER_MACH(watchdog)\n\n#define __ACCELEROMETER_H       __HEADER_TRAN(accelerometer)\n#define __GYROSCOPE_H           __HEADER_TRAN(gyroscope)\n#define __CO2_SENSOR_H          __HEADER_TRAN(co2_sensor)\n#define __PLUVIOMETER_H         __HEADER_TRAN(pluviometer)\n#define __PRESSURE_SENSOR_H     __HEADER_TRAN(pressure_sensor)\n#define __THERMOMETER_H         __HEADER_TRAN(thermometer)\n#define __HYGROMETER_H          __HEADER_TRAN(hygrometer)\n#endif\n\n#ifdef __zynq__\n#define __armv7a__\n#define __cortex_a__\n#define __cortex_a9__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#define __AES_H                 __HEADER_MACH(aes)\n#endif\n\n#ifdef __realview_pbx__\n#define __armv7a__\n#define __cortex_a__\n#define __cortex_a9__\n#define __realview_pbx__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#endif\n\n#ifdef __raspberry_pi3__\n#define __cortex_a__\n#define __cortex_a53__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#endif\n\n#ifdef __sifive_e__\n#define __riscv__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#endif\n\n#ifdef __sifive_u__\n#define __riscv__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#define __SPI_H                 __HEADER_MACH(spi)\n#endif\n\n#ifdef __visionfive2__\n#define __riscv__\n#define __TSC_H                 __HEADER_ARCH(tsc)\n#define __PMU_H                 __HEADER_ARCH(pmu)\n\n#define __UART_H                __HEADER_MACH(uart)\n#define __SPI_H                 __HEADER_MACH(spi)\n#endif\n\n#include <system/meta.h>\n#include <system/traits.h>\n#include __APPLICATION_TRAITS_H\n#include <system/types.h>\n\n//============================================================================\n// THINGS EVERBODY NEEDS\n//============================================================================\n#include <utility/ostream.h>\n#include <utility/debug.h>\n\n#endif\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/include/system/config.h b/include/system/config.h
--- a/include/system/config.h	(revision fb94715f34470c181d227acc46f9fda497ad03c6)
+++ b/include/system/config.h	(date 1693499883267)
@@ -7,15 +7,15 @@
 // ARCHITECTURE, MACHINE, AND APPLICATION SELECTION
 // This section is generated automatically from makedefs by $EPOS/etc/makefile
 //============================================================================
-#define SMOD xxx
-#define ARCH xxx
-#define MACH xxx
-#define MMOD xxx
-#define APPL xxx
-#define __mode_xxx__
-#define __arch_xxx__
-#define __mach_xxx__
-#define __mmod_xxx__
+#define SMOD library
+#define ARCH rv64
+#define MACH riscv
+#define MMOD visionfive2
+#define APPL hello
+#define __library__
+#define __rv64__
+#define __riscv__
+#define __visionfive2__
 
 //============================================================================
 // NAMESPACES AND DEFINITIONS
